<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Enduring Legacy: Our Family's Indigenous Heritage</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/glider-js/1.7.8/glider.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #FDF8F0; /* Creamy off-white */
            color: #433A3F; /* Muted dark brown/purple */
        }
        .font-display {
            font-family: 'Playfair Display', serif;
        }
        /* Tab Styles */
        .tab-button {
            transition: all 0.3s ease;
            border-bottom: 3px solid transparent;
            padding: 0.75rem 1rem;
        }
        .tab-button.active {
            border-bottom-color: #D97706; /* Amber-600 */
            color: #D97706;
        }
        .tab-content {
            display: none;
            animation: fadeIn 0.5s ease-in-out;
        }
        .tab-content.active {
            display: block;
        }
        /* Timeline Styles */
        .timeline-item {
            cursor: pointer;
            transition: transform 0.2s ease-in-out, filter 0.2s ease-in-out;
        }
        .timeline-item:hover {
            transform: translateY(-5px);
        }
        .timeline-item.active .timeline-dot {
            background-color: #D97706;
            transform: scale(1.5);
        }
        .timeline-item.active .timeline-date {
            color: #D97706;
            font-weight: 700;
        }
        .timeline-content-panel {
            display: none;
            border-left: 2px solid #D97706;
            animation: fadeIn 0.5s ease-in-out;
        }
        .timeline-content-panel.active {
            display: block;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        /* Form Styles Adapted to Theme */
        .form-section-title {
            position: relative;
            margin-bottom: 1.5rem;
            padding-bottom: 0.5rem;
            font-size: 1.5rem;
            font-family: 'Playfair Display', serif;
        }
        .form-section-title::after {
            content: '';
            position: absolute;
            left: 0;
            bottom: 0;
            width: 50px;
            height: 3px;
            background-color: #D97706; /* Amber-600 */
            border-radius: 9999px;
        }
        input, textarea, select {
             transition: all 0.2s ease-in-out;
        }
        input:focus, textarea:focus, select:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(217, 119, 6, 0.4); /* Amber glow */
            border-color: #D97706;
        }
        .dynamic-entry-container {
            border: 1px dashed #e2d6c7;
            padding: 1.5rem;
            border-radius: 0.5rem;
            margin-bottom: 1rem;
            position: relative;
            background-color: rgba(255, 255, 255, 0.3);
        }
        .remove-button {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            background-color: #ef4444; color: white;
            border: none; border-radius: 9999px; width: 28px; height: 28px;
            display: flex; justify-content: center; align-items: center;
            font-size: 1rem; line-height: 1; cursor: pointer;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            transition: background-color 0.2s ease-in-out;
        }
        .remove-button:hover { background-color: #dc2626; }
        .help-text { font-size: 0.875rem; color: #6b7280; margin-top: 0.25rem; font-style: italic; }
        .error-message { color: #b91c1c; font-size: 0.875rem; margin-top: 0.25rem; font-weight: 600; }
        .success-message { color: #166534; font-size: 0.875rem; margin-top: 0.25rem; font-weight: 600; }
        
        /* Slideshow Styles */
        .featured-slideshow {
            position: relative;
            margin-bottom: 2rem;
            border-radius: 0.5rem;
            overflow: hidden;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }
        .slide {
            display: none;
            position: relative;
            height: 400px;
            background-size: cover;
            background-position: center;
            transition: opacity 0.5s ease-in-out;
        }
        .slide.active {
            display: block;
            animation: fadeIn 0.5s ease-in-out;
        }
        .slide-content {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);
            color: white;
            padding: 2rem;
        }
        .slide-nav {
            position: absolute;
            top: 50%;
            width: 100%;
            display: flex;
            justify-content: space-between;
            transform: translateY(-50%);
            z-index: 10;
        }
        .slide-nav button {
            background: rgba(255,255,255,0.3);
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin: 0 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .slide-nav button:hover {
            background: rgba(255,255,255,0.5);
        }
        .slide-indicators {
            position: absolute;
            bottom: 1rem;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 0.5rem;
            z-index: 10;
        }
        .slide-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255,255,255,0.5);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .slide-indicator.active {
            background: white;
            transform: scale(1.2);
        }
    </style>
</head>
<body class="antialiased">
    <div class="container mx-auto p-4 md:p-8 max-w-6xl">

        <!-- Slideshow Header -->
        <div class="featured-slideshow">
            <div class="slide active" style="background-image: url('https://images.unsplash.com/photo-1566438480900-0609be27a4be?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1790&q=80');">
                <div class="slide-content">
                    <h2 class="font-display text-3xl md:text-4xl font-bold mb-2">Rediscovering Our Taíno Roots</h2>
                    <p class="text-lg">Explore how DNA and oral histories reveal our family's deep connection to Jamaica's first people</p>
                    <a href="#tab-story" class="inline-block mt-4 px-6 py-2 bg-amber-600 text-white rounded-md hover:bg-amber-700 transition">Our Story</a>
                </div>
            </div>
            <div class="slide" style="background-image: url('https://images.unsplash.com/photo-1544551763-46a013bb70d5?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1740&q=80');">
                <div class="slide-content">
                    <h2 class="font-display text-3xl md:text-4xl font-bold mb-2">Preservation in Action</h2>
                    <p class="text-lg">Learn from global indigenous communities how we can reclaim and protect our heritage</p>
                    <a href="#tab-lessons" class="inline-block mt-4 px-6 py-2 bg-amber-600 text-white rounded-md hover:bg-amber-700 transition">Global Lessons</a>
                </div>
            </div>
            <div class="slide" style="background-image: url('https://images.unsplash.com/photo-1508511269-185eceb43e2d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1742&q=80');">
                <div class="slide-content">
                    <h2 class="font-display text-3xl md:text-4xl font-bold mb-2">Building Our Family Archive</h2>
                    <p class="text-lg">Contribute to our growing digital repository of family history and connections</p>
                    <a href="#tab-tree" class="inline-block mt-4 px-6 py-2 bg-amber-600 text-white rounded-md hover:bg-amber-700 transition">Document Now</a>
                </div>
            </div>
            <div class="slide-nav">
                <button class="slide-prev" aria-label="Previous slide">❮</button>
                <button class="slide-next" aria-label="Next slide">❯</button>
            </div>
            <div class="slide-indicators">
                <div class="slide-indicator active" data-index="0"></div>
                <div class="slide-indicator" data-index="1"></div>
                <div class="slide-indicator" data-index="2"></div>
            </div>
        </div>

        <!-- Header Section -->
        <header class="text-center mb-12">
            <h1 class="font-display text-4xl md:text-6xl font-bold text-[#6D4C41] mb-4">The Enduring Legacy</h1>
            <p class="text-lg md:text-xl text-gray-700 max-w-3xl mx-auto">As descendants of native-born Indigenous people of Jamaica, our family carries a story of survival, resilience, and profound connection to the island's true ancestral roots. This interactive journey explores our history, the path to preservation, and our role in this living heritage.</p>
        </header>

        <!-- Tab Navigation -->
        <div class="mb-8 border-b border-gray-300">
            <nav id="tab-nav" class="flex flex-wrap -mb-px" aria-label="Tabs">
                <button class="tab-button text-lg font-semibold" data-target="tab-story">Our Story & Timeline</button>
                <button class="tab-button text-lg font-semibold" data-target="tab-lessons">Global Lessons</button>
                <button class="tab-button text-lg font-semibold" data-target="tab-action">Actionable Steps</button>
                <button class="tab-button text-lg font-semibold" data-target="tab-tree">Document Our History</button>
            </nav>
        </div>

        <!-- Tab Content -->
        <div id="tab-content-container">
            <!-- Tab 1: Our Story & Timeline -->
            <div id="tab-story" class="tab-content">
                <section class="mb-16">
                    <h2 class="font-display text-3xl font-bold text-center mb-8 text-[#6D4C41]">An Interactive Timeline of Survival</h2>
                    <div class="w-full max-w-4xl mx-auto">
                        <div class="flex justify-between items-center border-b-2 border-gray-300 pb-4">
                            <div id="timeline-nav" class="grid grid-cols-2 sm:grid-cols-5 gap-4 w-full"></div>
                        </div>
                        <div id="timeline-content-container" class="mt-8"></div>
                    </div>
                </section>
            </div>

            <!-- Tab 2: Global Lessons (Restored Detail) -->
            <div id="tab-lessons" class="tab-content">
                 <h2 class="font-display text-3xl font-bold text-center mb-8 text-[#6D4C41]">Lessons in Heritage Preservation</h2>
                 <p class="text-center text-lg max-w-3xl mx-auto mb-10">Restoring and preserving our Indigenous Jamaican ancestral history requires a thoughtful blend of global strategies and deep cultural sensitivity. Here are key lessons from global heritage efforts, adapted for Jamaica's context.</p>
                 <div class="space-y-8 max-w-4xl mx-auto">
                    <div class="bg-white/50 p-6 rounded-xl shadow-md"><h3 class="font-display text-2xl font-bold text-amber-700 mb-2">1. Community-Led Preservation (Māori Model, New Zealand)</h3><p class="mb-3"><strong>Lesson:</strong> Empower Taíno descendants and Maroon communities as primary custodians.</p><ul class="list-disc list-inside space-y-1 text-gray-600"><li>Establish community councils to co-manage archaeological sites (e.g., Taino petroglyphs at Mountain River Cave).</li><li>Train local "heritage guardians" in conservation techniques.</li><li>Prioritize oral histories from elders in St. Elizabeth/Accompong Maroon regions, where Taíno ancestry persists.</li></ul></div>
                    <div class="bg-white/50 p-6 rounded-xl shadow-md"><h3 class="font-display text-2xl font-bold text-amber-700 mb-2">2. Reconstructing Fragmented Histories (Jewish Diaspora Archives)</h3><p class="mb-3"><strong>Lesson:</strong> Systematically consolidate scattered fragments.</p><ul class="list-disc list-inside space-y-1 text-gray-600"><li>Create a digital <strong>Jamaican Indigenous Heritage Repository</strong> collaborating with European archives (e.g., Archivo General de Indias), regional institutions (Institute of Jamaica, UWI), and private collections.</li><li>Use AI to cross-reference Spanish chronicles (e.g., Bartolomé de las Casas) with archaeological findings.</li></ul></div>
                    <div class="bg-white/50 p-6 rounded-xl shadow-md"><h3 class="font-display text-2xl font-bold text-amber-700 mb-2">3. Language Revival (Hawaiian Renaissance)</h3><p class="mb-3"><strong>Lesson:</strong> Language anchors cultural memory.</p><ul class="list-disc list-inside space-y-1 text-gray-600"><li>Reconstruct Taíno vocabulary using survived loanwords (e.g., Jamaican "hammock," "barbecue") and Arawakan linguistic studies.</li><li>Develop school resources (e.g., animated stories using Taíno place names like "Xaymaca").</li></ul></div>
                    <div class="bg-white/50 p-6 rounded-xl shadow-md"><h3 class="font-display text-2xl font-bold text-amber-700 mb-2">4. Repatriation Ethics (NAGPRA, USA)</h3><p class="mb-3"><strong>Lesson:</strong> Restore dignity through physical return.</p><ul class="list-disc list-inside space-y-1 text-gray-600"><li>Advocate for repatriation of sacred *zemí* idols and human remains from museums and collections abroad.</li><li>Establish a <strong>Taíno Ancestral Resting Place</strong> (similar to Sápmi reburial grounds in Scandinavia).</li></ul></div>
                    <div class="bg-white/50 p-6 rounded-xl shadow-md"><h3 class="font-display text-2xl font-bold text-amber-700 mb-2">5. Living Heritage Integration (Balinese Subak System)</h3><p class="mb-3"><strong>Lesson:</strong> Link preservation to contemporary life.</p><ul class="list-disc list-inside space-y-1 text-gray-600"><li>Revive Taíno agricultural practices (e.g., *conuco* farming) in community gardens.</li><li>Incorporate traditional fishing techniques into ecotourism.</li><li>Showcase reconstructed Taíno dances/ceremonies at festivals like Accompong Maroon celebrations.</li></ul></div>
                    <div class="bg-white/50 p-6 rounded-xl shadow-md"><h3 class="font-display text-2xl font-bold text-amber-700 mb-2">6. Legal Safeguards (UNESCO Intangible Heritage Framework)</h3><p class="mb-3"><strong>Lesson:</strong> Use legal tools proactively.</p><ul class="list-disc list-inside space-y-1 text-gray-600"><li>Push for designation of sites like <strong>Belmont Taino Settlement</strong> as protected heritage zones.</li><li>Include Taíno history in Jamaica's National Heritage Act revisions.</li><li>Document intangible heritage (e.g., herbal medicine knowledge) using UNESCO protocols.</li></ul></div>
                    <div class="bg-white/50 p-6 rounded-xl shadow-md"><h3 class="font-display text-2xl font-bold text-amber-700 mb-2">7. Digital Preservation (Estonian e-Heritage)</h3><p class="mb-3"><strong>Lesson:</strong> Counter physical loss with digital permanence.</p><ul class="list-disc list-inside space-y-1 text-gray-600"><li>Create 3D scans of petroglyphs (e.g., using photogrammetry at Carpenter's Mountain).</li><li>Build an AR app visualizing Taino villages at sites like White Marl.</li><li>Archive oral histories in Taíno-descendant communities via the National Library of Jamaica.</li></ul></div>
                 </div>
            </div>

            <!-- Tab 3: Actionable Steps (Restored Detail) -->
            <div id="tab-action" class="tab-content">
                <h2 class="font-display text-3xl font-bold text-center mb-8 text-[#6D4C41]">Turning Preservation into Reclamation</h2>
                <div class="max-w-4xl mx-auto grid md:grid-cols-2 gap-8">
                    <div class="bg-white/50 p-6 rounded-xl shadow-md">
                        <h3 class="font-display text-2xl font-bold text-amber-700 mb-4">Practical First Steps</h3>
                        <ol class="list-decimal list-inside space-y-3 text-gray-700">
                            <li><strong>Map all known Taíno sites</strong> using GIS technology to create a comprehensive digital atlas.</li>
                            <li><strong>Convene a national summit</strong> of Taíno descendants, Maroon leaders, and academics to forge a unified strategy.</li>
                            <li><strong>Launch a "Taíno History Trail"</strong> linking key sites with educational signage for both locals and visitors.</li>
                        </ol>
                    </div>
                    <div class="bg-white/50 p-6 rounded-xl shadow-md">
                        <h3 class="font-display text-2xl font-bold text-amber-700 mb-4">Critical Considerations</h3>
                        <ul class="list-disc list-inside space-y-3 text-gray-700">
                            <li><strong>Decolonize Archaeology:</strong> Shift from "artifact extraction" to community-centered research in partnership with groups like the Jamaica National Heritage Trust.</li>
                            <li><strong>Syncretic Recognition:</strong> Formally acknowledge and celebrate Taíno influences in wider Jamaican traditions like "bammy" bread and Kumina spiritual practices.</li>
                            <li><strong>Youth Engagement:</strong> Establish heritage clubs in schools, modeled after Trinidad's successful First Peoples program, to inspire the next generation.</li>
                        </ul>
                    </div>
                </div>
                 <div class="text-center mt-12">
                    <blockquote class="text-xl italic text-gray-600 max-w-2xl mx-auto">"A people without knowledge of their past is like a tree without roots."</blockquote>
                    <p class="mt-2 text-gray-700 font-semibold">Adapted from Marcus Garvey</p>
                    <p class="mt-4 max-w-3xl mx-auto">By anchoring Jamaica's identity in its full, layered history, we turn preservation into active reclamation. Success demands sustained collaboration between our communities, government, and diaspora.</p>
                 </div>
            </div>

            <!-- Tab 4: Document Our History (Restored Full Form) -->
            <div id="tab-tree" class="tab-content">
                <div class="max-w-4xl mx-auto">
                    <div class="text-center mb-10">
                        <h2 class="font-display text-3xl font-bold mb-4 text-[#6D4C41]">Build Our Family Archive</h2>
                        <p class="text-lg text-gray-700">This history is not just in books; it lives within us. Use this form to capture the details of each family member. Every entry helps grow our collective tree and preserves our story for generations to come.</p>
                    </div>
                    
                    <form id="familyHistoryForm" class="space-y-8">
                        <fieldset class="bg-white/40 border border-amber-200/50 rounded-lg p-4 sm:p-6 shadow-sm"><legend class="form-section-title font-bold text-gray-700 px-2">About This Person</legend><div class="grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-4"><div><label for="fullName" class="block text-base font-medium text-gray-700 mb-1">Full Name <span class="text-red-500">*</span></label><input type="text" id="fullName" name="fullName" required class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm"><p class="help-text">Please provide the complete first and last name.</p></div><div><label for="relationshipToMainPerson" class="block text-base font-medium text-gray-700 mb-1">Relationship to You <span class="text-red-500">*</span></label><input type="text" id="relationshipToMainPerson" name="relationshipToMainPerson" required class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm"><p class="help-text">E.g., 'Self', 'My Father', 'My Paternal Grandfather'.</p></div><div><label for="dob" class="block text-base font-medium text-gray-700 mb-1">Date of Birth</label><input type="date" id="dob" name="dob" class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm"></div><div><label for="dod" class="block text-base font-medium text-gray-700 mb-1">Date of Passing</label><input type="date" id="dod" name="dod" class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm"></div></div></fieldset>
                        <fieldset class="bg-white/40 border border-amber-200/50 rounded-lg p-4 sm:p-6 shadow-sm"><legend class="form-section-title font-bold text-gray-700 px-2">Family Connections</legend><div class="grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-4"><div><label for="fatherName" class="block text-base font-medium text-gray-700 mb-1">Father's Name</label><input type="text" id="fatherName" name="fatherName" class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm"></div><div><label for="motherName" class="block text-base font-medium text-gray-700 mb-1">Mother's Name</label><input type="text" id="motherName" name="motherName" class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm"></div></div><div class="mt-8"><h3 class="text-xl font-semibold text-gray-700 mb-3">Children</h3><div id="childrenContainer"></div><button type="button" id="addChildButton" class="mt-4 px-5 py-2 bg-green-600 text-white font-semibold rounded-md shadow-md hover:bg-green-700">Add Child</button></div></fieldset>
                        <fieldset class="bg-white/40 border border-amber-200/50 rounded-lg p-4 sm:p-6 shadow-sm"><legend class="form-section-title font-bold text-gray-700 px-2">Life Details</legend><div class="space-y-6"><div><label for="healthConditions" class="block text-base font-medium text-gray-700 mb-1">Health / Medical History</label><textarea id="healthConditions" name="healthConditions" rows="4" class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm"></textarea><p class="help-text">Mention major health conditions, diseases, or significant medical events.</p></div><div><label for="hobbies" class="block text-base font-medium text-gray-700 mb-1">Hobbies & Interests</label><input type="text" id="hobbies" name="hobbies" placeholder="E.g., Reading, Painting, Sports" class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm"><p class="help-text">Separate with commas.</p></div><div><label for="jobs" class="block text-base font-medium text-gray-700 mb-1">Jobs & Career</label><textarea id="jobs" name="jobs" rows="4" class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm"></textarea><p class="help-text">List main jobs, careers, and professional accomplishments.</p></div><div><label for="schooling" class="block text-base font-medium text-gray-700 mb-1">Schooling & Education</label><textarea id="schooling" name="schooling" rows="4" class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm"></textarea></div></div><div class="mt-8"><h3 class="text-xl font-semibold text-gray-700 mb-3">Places Lived</h3><div id="addressesContainer"></div><button type="button" id="addAddressButton" class="mt-4 px-5 py-2 bg-green-600 text-white font-semibold rounded-md shadow-md hover:bg-green-700">Add Address</button></div></fieldset>
                        <fieldset class="bg-white/40 border border-amber-200/50 rounded-lg p-4 sm:p-6 shadow-sm"><legend class="form-section-title font-bold text-gray-700 px-2">Media & Memories</legend><div class="bg-amber-50/70 border-l-4 border-amber-500 p-4 rounded-r-lg mb-6"><h4 class="font-bold text-amber-800">Link Our Digital Memories</h4><p class="text-sm text-amber-900">Share links to photo albums on Google Photos or documents on Google Drive. This connects our digital archives directly to our family tree.</p></div><div class="space-y-4"><div><label for="profilePhotoLink" class="block text-base font-medium text-gray-700 mb-1">Profile Photo Link</label><input type="url" id="profilePhotoLink" name="profilePhotoLink" placeholder="https://..." class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm"></div><div><label for="photosLink" class="block text-base font-medium text-gray-700 mb-1">Google Photos / Album Link</label><input type="url" id="photosLink" name="photosLink" placeholder="https://photos.app.goo.gl/..." class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm"></div><div><label for="cvDocumentLink" class="block text-base font-medium text-gray-700 mb-1">Google Drive / Bio Link</label><input type="url" id="cvDocumentLink" name="cvDocumentLink" placeholder="https://docs.google.com/..." class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm"></div><div><label for="notes" class="block text-base font-medium text-gray-700 mb-1">Additional Notes / Biography</label><textarea id="notes" name="notes" rows="6" class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm"></textarea></div></div></fieldset>
                        <div class="bg-amber-800/10 p-4 rounded-lg text-center"><p class="text-sm text-amber-900/80 mb-3"><strong>Note:</strong> To save this data to a shared family spreadsheet, the form needs to be connected to a Google Apps Script. A placeholder URL is used for now.</p><button type="submit" id="submitButton" class="w-full sm:w-auto flex justify-center items-center mx-auto py-3 px-8 border border-transparent rounded-lg shadow-md text-lg font-semibold text-white bg-amber-600 hover:bg-amber-700"><span id="buttonText">Submit Family Member</span><svg id="loadingSpinner" class="animate-spin ml-3 h-5 w-5 text-white hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg></button><div id="formMessage" class="mt-4 text-center text-base font-medium" role="status"></div></div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/glider-js/1.7.8/glider.min.js"></script>
    <script>
    document.addEventListener('DOMContentLoaded', () => {
        // --- SLIDESHOW LOGIC ---
        const slides = document.querySelectorAll('.slide');
        const indicators = document.querySelectorAll('.slide-indicator');
        let currentSlide = 0;
        
        function showSlide(index) {
            slides.forEach(slide => slide.classList.remove('active'));
            indicators.forEach(indicator => indicator.classList.remove('active'));
            
            slides[index].classList.add('active');
            indicators[index].classList.add('active');
            currentSlide = index;
        }
        
        document.querySelector('.slide-prev').addEventListener('click', () => {
            const newIndex = (currentSlide - 1 + slides.length) % slides.length;
            showSlide(newIndex);
        });
        
        document.querySelector('.slide-next').addEventListener('click', () => {
            const newIndex = (currentSlide + 1) % slides.length;
            showSlide(newIndex);
        });
        
        indicators.forEach(indicator => {
            indicator.addEventListener('click', () => {
                showSlide(parseInt(indicator.dataset.index));
            });
        });
        
        // Auto-advance slides every 5 seconds
        setInterval(() => {
            const newIndex = (currentSlide + 1) % slides.length;
            showSlide(newIndex);
        }, 5000);

        // --- TAB LOGIC ---
        const tabNav = document.getElementById('tab-nav');
        const tabButtons = document.querySelectorAll('.tab-button');
        const tabContents = document.querySelectorAll('.tab-content');
        function setActiveTab(targetId) {
            tabButtons.forEach(button => button.classList.toggle('active', button.dataset.target === targetId));
            tabContents.forEach(content => content.classList.toggle('active', content.id === targetId));
            
            // Update URL hash for deep linking
            window.location.hash = targetId;
        }
        tabNav.addEventListener('click', (e) => {
            if (e.target.classList.contains('tab-button')) setActiveTab(e.target.dataset.target);
        });

        // Check for hash on page load
        if (window.location.hash) {
            const targetTab = document.querySelector(`.tab-button[data-target="${window.location.hash}"]`);
            if (targetTab) {
                setActiveTab(window.location.hash.substring(1));
            }
        }

        // --- TIMELINE LOGIC ---
        const timelineData = [
            { id: 'pre1494', date: 'Pre-1494', title: 'The Flourishing of Xaymaca', content: `<h3 class="font-bold text-2xl mb-2 text-amber-700">The Land of Wood and Water</h3><p class="text-gray-600">Before European contact, Jamaica, known as Xaymaca, was a thriving hub for the Taíno people. Their society was organized into chiefdoms (cacicazgos), and they were master agriculturalists, cultivating yuca, sweet potatoes, and maize. Their spiritual life was rich, centered on the worship of zemís.</p>`},
            { id: '1494', date: '1494-1509', title: 'The Arrival & Disruption', content: `<h3 class="font-bold text-2xl mb-2 text-amber-700">A World Turned Upside Down</h3><p class="text-gray-600">The arrival of Christopher Columbus marked a catastrophic disruption. The Spanish introduced new diseases and the brutal encomienda system, a form of forced labor. The Taíno population plummeted, and their way of life was irrevocably altered.</p>`},
            { id: '1500s', date: '1500s-1600s', title: 'Genocide, Survival & The Myth of Extinction', content: `<h3 class="font-bold text-2xl mb-2 text-amber-700">Survival in the Shadows</h3><p class="text-gray-600">Colonial accounts declared the Taíno "extinct," but this was a myth. They survived by retreating to the mountainous interior, and by intermarrying with arriving Africans and Europeans, blending their cultures, knowledge, and genes. Taíno knowledge was vital for the survival of all groups on the island.</p>`},
            { id: '1700s', date: '1700s-1800s', title: 'Maroons & Hidden Heritage', content: `<h3 class="font-bold text-2xl mb-2 text-amber-700">Resistance and Resilience</h3><p class="text-gray-600">Enslaved Africans escaped into the interior, joining remnant Taíno communities to form the Jamaican Maroons. Their culture is a rich syncretism of African and Indigenous traditions, and their deep knowledge of the land for guerilla warfare and herbal medicine has strong Taíno roots.</p>`},
            { id: '1900s', date: '1900s-Present', title: 'Reclamation & Revival', content: `<h3 class="font-bold text-2xl mb-2 text-amber-700">The Voice of a People Re-emerges</h3><p class="text-gray-600">The 20th and 21st centuries have seen a powerful movement to reclaim and celebrate Jamaica's Indigenous identity. Descendants are actively working to preserve their language, spiritual practices, and cultural traditions, challenging old colonial myths and honoring the ancestors who endured.</p>`}
        ];
        const timelineNavContainer = document.getElementById('timeline-nav');
        const timelineContentContainer = document.getElementById('timeline-content-container');
        timelineData.forEach(item => {
            const navItem = document.createElement('div');
            navItem.className = 'timeline-item text-center group';
            navItem.dataset.target = item.id;
            navItem.innerHTML = `<div class="flex justify-center items-center"><div class="timeline-dot w-4 h-4 bg-gray-300 rounded-full transition-all duration-300"></div></div><p class="timeline-date mt-2 text-sm md:text-base font-semibold text-gray-500">${item.date}</p>`;
            timelineNavContainer.appendChild(navItem);
            const contentPanel = document.createElement('div');
            contentPanel.id = item.id;
            contentPanel.className = 'timeline-content-panel p-6';
            contentPanel.innerHTML = item.content;
            timelineContentContainer.appendChild(contentPanel);
        });
        const timelineItems = document.querySelectorAll('.timeline-item');
        function setActiveTimelineItem(targetId) {
            timelineItems.forEach(item => item.classList.toggle('active', item.dataset.target === targetId));
            document.querySelectorAll('.timeline-content-panel').forEach(content => content.classList.toggle('active', content.id === targetId));
        }
        timelineItems.forEach(item => item.addEventListener('click', () => setActiveTimelineItem(item.dataset.target)));

        // --- FORM LOGIC (with full detail) ---
        let childCount = 0;
        let addressCount = 0;
        const childrenContainer = document.getElementById('childrenContainer');
        const addressesContainer = document.getElementById('addressesContainer');

        function createChildEntry(index) {
            const container = document.createElement('div');
            container.className = 'dynamic-entry-container grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-4';
            container.innerHTML = `<button type="button" class="remove-button">&times;</button><div><label for="childName_${index}" class="block text-sm font-medium text-gray-700">Child's Name ${index + 1}</label><input type="text" id="childName_${index}" name="childName_${index}" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm"></div><div><label for="childRelationship_${index}" class="block text-sm font-medium text-gray-700">Relationship Type</label><select id="childRelationship_${index}" name="childRelationship_${index}" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm"><option value="Biological">Biological</option><option value="Adopted">Adopted</option><option value="Fostered">Fostered</option><option value="Stepchild">Stepchild</option><option value="Other">Other</option></select></div>`;
            container.querySelector('.remove-button').addEventListener('click', () => container.remove());
            return container;
        }

        function createAddressEntry(index) {
            const container = document.createElement('div');
            container.className = 'dynamic-entry-container space-y-4';
            container.innerHTML = `<button type="button" class="remove-button">&times;</button><h4 class="text-lg font-medium text-gray-800">Address ${index + 1}</h4><div class="grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-4"><div><label for="addressCity_${index}" class="block text-sm font-medium text-gray-700">City</label><input type="text" id="addressCity_${index}" name="addressCity_${index}" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm"></div><div><label for="addressCountry_${index}" class="block text-sm font-medium text-gray-700">Country</label><input type="text" id="addressCountry_${index}" name="addressCountry_${index}" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm"></div></div>`;
            container.querySelector('.remove-button').addEventListener('click', () => container.remove());
            return container;
        }

        document.getElementById('addChildButton').addEventListener('click', () => {
            childrenContainer.appendChild(createChildEntry(childCount++));
        });
        document.getElementById('addAddressButton').addEventListener('click', () => {
            addressesContainer.appendChild(createAddressEntry(addressCount++));
        });

        document.getElementById('familyHistoryForm').addEventListener('submit', async function(event) {
            event.preventDefault();
            const form = event.target;
            const formData = new FormData(form);
            const formMessage = document.getElementById('formMessage');
            const submitButton = document.getElementById('submitButton');
            const buttonText = document.getElementById('buttonText');
            const loadingSpinner = document.getElementById('loadingSpinner');

            submitButton.disabled = true;
            buttonText.textContent = 'Submitting...';
            loadingSpinner.classList.remove('hidden');
            formMessage.textContent = '';

            const appsScriptUrl = 'https://script.google.com/macros/s/AKfycbyjvgySqgy5l_-hEuOv3q5THfon63LDJAQStrk-rUDiKh5zKZ2uemurf3bmBFCgBITVug/exec'; 
            if (appsScriptUrl === 'https://script.google.com/macros/s/AKfycbyjvgySqgy5l_-hEuOv3q5THfon63LDJAQStrk-rUDiKh5zKZ2uemurf3bmBFCgBITVug/exec') {
                 setTimeout(() => {
                    formMessage.textContent = "Let's keep our legacy vibrant!";
                    formMessage.className = 'mt-4 text-center text-base font-medium error-message';
                    submitButton.disabled = false;
                    buttonText.textContent = 'Submit Family Member';
                    loadingSpinner.classList.add('hidden');
                 }, 1500);
                 return;
            }
        });

        // --- INITIALIZE PAGE ---
        function initializePage() {
            // Set default tab based on hash or default to first tab
            if (window.location.hash) {
                const targetTab = document.querySelector(`.tab-button[data-target="${window.location.hash}"]`);
                if (targetTab) {
                    setActiveTab(window.location.hash.substring(1));
                } else {
                    setActiveTab('tab-story');
                }
            } else {
                setActiveTab('tab-story');
            }
            
            if (timelineData.length > 0) {
                setActiveTimelineItem(timelineData[0].id);
            }
            
            // Initialize first slide
            showSlide(0);
        }
        initializePage();
    });
    </script>
</body>
</html>
